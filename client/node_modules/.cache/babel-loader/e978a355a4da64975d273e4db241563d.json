{"ast":null,"code":"import _classCallCheck from \"/Users/silva/Desktop/code/MakeOrMiss/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/silva/Desktop/code/MakeOrMiss/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/silva/Desktop/code/MakeOrMiss/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/silva/Desktop/code/MakeOrMiss/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/silva/Desktop/code/MakeOrMiss/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/silva/Desktop/code/MakeOrMiss/client/src/pages/DV3.js\";\nimport React from \"react\";\nimport * as d3 from \"d3\";\nimport WCdata from '../assets/wclinedata.csv';\nimport ECdata from '../assets/eclinedata.csv';\n\nvar DV3 =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(DV3, _React$Component);\n\n  function DV3() {\n    _classCallCheck(this, DV3);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(DV3).apply(this, arguments));\n  }\n\n  _createClass(DV3, [{\n    key: \"CM\",\n    value: function CM() {\n      var data = [[66, [\"MIL\"]], [65, [\"GSW\", \"TOR\", \"MIL\"]], [64, [\"GSW\", \"TOR\", \"MIL\"]], [63, [\"GSW\", \"TOR\", \"MIL\"]], [62, [\"GSW\", \"TOR\", \"MIL\"]], [61, [\"GSW\", \"TOR\", \"MIL\"]], [60, [\"GSW\", \"TOR\", \"MIL\"]], [59, [\"POR\", \"PHI\", \"GSW\", \"TOR\", \"MIL\"]], [58, [\"HOU\", \"GSW\", \"POR\", \"PHI\", \"TOR\", \"MIL\"]], [57, [\"DEN\", \"HOU\", \"UTA\", \"GSW\", \"POR\", \"PHI\", \"TOR\", \"MIL\"]], [56, [\"OKC\", \"UTA\", \"HOU\", \"GSW\", \"POR\", \"PHI\", \"TOR\", \"MIL\", \"DEN\"]], [55, [\"OKC\", \"UTA\", \"HOU\", \"GSW\", \"POR\", \"PHI\", \"TOR\", \"MIL\", \"DEN\"]], [54, [\"OKC\", \"BOS\", \"UTA\", \"HOU\", \"GSW\", \"POR\", \"PHI\", \"TOR\", \"DEN\"]], [53, [\"OKC\", \"IND\", \"BOS\", \"UTA\", \"HOU\", \"GSW\", \"POR\", \"PHI\", \"TOR\", \"DEN\"]], [52, [\"SAS\", \"OKC\", \"IND\", \"BOS\", \"UTA\", \"HOU\", \"GSW\", \"POR\", \"PHI\", \"TOR\", \"DEN\"]], [51, [\"ORL\", \"SAS\", \"OKC\", \"IND\", \"BOS\", \"UTA\", \"HOU\", \"GSW\", \"POR\", \"PHI\", \"TOR\", \"DEN\"]], [50, [\"BKN\", \"LAC\", \"ORL\", \"SAS\", \"OKC\", \"IND\", \"BOS\", \"UTA\", \"HOU\", \"GSW\", \"POR\", \"PHI\", \"TOR\", \"DET\", \"DEN\"]], [49, [\"CHA\", \"BKN\", \"ORL\", \"LAC\", \"SAS\", \"OKC\", \"IND\", \"BOS\", \"HOU\", \"POR\", \"PHI\", \"TOR\", \"DET\", \"DEN\"]], [48, [\"MIA\", \"BKN\", \"CHA\", \"ORL\", \"SAS\", \"OKC\", \"IND\", \"BOS\", \"HOU\", \"POR\", \"PHI\", \"TOR\", \"DET\", \"DEN\", \"LAC\"]], [47, [\"MIA\", \"CHA\", \"ORL\", \"SAS\", \"OKC\", \"IND\", \"BOS\", \"HOU\", \"PHI\", \"TOR\", \"BKN\", \"DET\", \"DEN\", \"LAC\"], [46, [\"SAC\", \"MIA\", \"CHA\", \"ORL\", \"SAS\", \"OKC\", \"IND\", \"BOS\", \"PHI\", \"TOR\", \"BKN\", \"DET\", \"DEN\", \"LAC\"]], [45, [\"SAC\", \"MIA\", \"CHA\", \"ORL\", \"SAS\", \"OKC\", \"IND\", \"BOS\", \"PHI\", \"BKN\", \"DET\", \"DEN\", \"LAC\"]], [44, [\"SAC\", \"MIA\", \"CHA\", \"ORL\", \"SAS\", \"OKC\", \"IND\", \"BOS\", \"PHI\", \"BKN\", \"DET\", \"DEN\", \"LAC\"]], [43, [\"SAC\", \"MIA\", \"CHA\", \"ORL\", \"SAS\", \"OKC\", \"IND\", \"PHI\", \"BKN\", \"DET\", \"DEN\", \"LAC\"]], [42, [\"MEM\", \"SAC\", \"MIA\", \"CHA\", \"ORL\", \"SAS\", \"IND\", \"PHI\", \"BKN\", \"DET\", \"DEN\", \"LAC\"]], [41, [\"MIN\", \"LAL\", \"MEM\", \"SAC\", \"MIA\", \"CHA\", \"ORL\", \"SAS\", \"PHI\", \"BKN\", \"DET\", \"DEN\"]], [40, [\"DAL\", \"MIN\", \"LAL\", \"MEM\", \"SAC\", \"MIA\", \"CHA\", \"ORL\", \"BKN\", \"DET\"]], [39, [\"NO\", \"MIN\", \"LAL\", \"MEM\", \"SAC\", \"MIA\", \"CHA\", \"ORL\", \"BKN\", \"DET\", \"DAL\"]], [38, [\"WSH\", \"NO\", \"MIN\", \"LAL\", \"MEM\", \"SAC\", \"MIA\", \"CHA\", \"ORL\", \"BKN\", \"DET\", \"DAL\"]], [37, [\"WSH\", \"NO\", \"MIN\", \"LAL\", \"MEM\", \"SAC\", \"MIA\", \"CHA\", \"ORL\", \"BKN\", \"DET\", \"DAL\"]], [36, [\"WSH\", \"NO\", \"MIN\", \"LAL\", \"MEM\", \"SAC\", \"MIA\", \"CHA\", \"ORL\", \"BKN\", \"DET\", \"DAL\"]], 35, [\"ATL\", \"WSH\", \"NO\", \"MIN\", \"LAL\", \"MEM\", \"SAC\", \"MIA\", \"CHA\", \"BKN\", \"DET\", \"DAL\"]], [34, [\"ATL\", \"WSH\", \"NO\", \"MIN\", \"LAL\", \"MEM\", \"SAC\", \"MIA\", \"CHA\", \"BKN\", \"DAL\"]], [33, [\"ATL\", \"WSH\", \"NO\", \"MIN\", \"LAL\", \"MEM\", \"SAC\", \"MIA\", \"CHA\", \"BKN\", \"DAL\"]], [32, [\"ATL\", \"WSH\", \"NO\", \"MIN\", \"LAL\", \"MEM\", \"BKN\", \"DAL\"]], [31, [\"ATL\", \"WSH\", \"NO\", \"MIN\", \"MEM\", \"BKN\", \"DAL\"]], [30, [\"CHI\", \"ATL\", \"WSH\", \"NO\", \"MIN\", \"MEM\", \"BKN\", \"DAL\"]], [29, [\"CHI\", \"ATL\", \"WSH\", \"NO\", \"MIN\", \"MEM\", \"DAL\"]], [28, [\"CHI\", \"ATL\", \"WSH\", \"MIN\", \"MEM\", \"DAL\"]], [27, [\"CHI\", \"ATL\", \"WSH\", \"MIN\", \"MEM\", \"DAL\"]], [26, [\"CHI\", \"ATL\", \"MIN\", \"DAL\"]], [25, [\"CHI\", \"ATL\", \"DAL\"]], [24, [\"PHX\", \"NY\", \"CHI\", \"ATL\", \"DAL\"]], [23, [\"CLE\", \"NY\", \"CHI\", \"ATL\", \"PHX\", \"DAL\"]], [22, [\"CLE\", \"NY\", \"CHI\", \"ATL\", \"PHX\"]], [21, [\"CLE\", \"NY\", \"CHI\", \"ATL\", \"PHX\"]], [20, [\"CLE\", \"NY\", \"CHI\", \"ATL\", \"PHX\"]], [19, [\"CLE\", \"NY\", \"CHI\", \"PHX\"]], [18, [\"CLE\", \"NY\", \"CHI\", \"PHX\"]], [17, [\"CLE\", \"NY\", \"CHI\", \"PHX\"]], [16, [\"CLE\", \"NY\", \"CHI\", \"PHX\"]], [16, [\"CLE\", \"NY\", \"CHI\", \"PHX\"]], [15, [\"CLE\", \"NY\", \"CHI\", \"PHX\"]], [14, [\"CLE\", \"NY\", \"CHI\", \"PHX\"]], [13, [\"NY\"]]]; // transform the data into a useful representation\n      // 1 is inner, 2, is outer\n      // need: inner, outer, links\n      //\n      // inner: \n      // links: { inner: outer: }\n\n      var outer = d3.map();\n      var inner = [];\n      var links = [];\n      var outerId = [0];\n      data.forEach(function (d) {\n        if (d == null) return;\n        i = {\n          id: 'i' + inner.length,\n          name: d[0],\n          related_links: []\n        };\n        i.related_nodes = [i.id];\n        inner.push(i);\n        if (!Array.isArray(d[1])) d[1] = [d[1]];\n        d[1].forEach(function (d1) {\n          var o = outer.get(d1);\n\n          if (o == null) {\n            o = {\n              name: d1,\n              id: 'o' + outerId[0],\n              related_links: []\n            };\n            o.related_nodes = [o.id];\n            outerId[0] = outerId[0] + 1;\n            outer.set(d1, o);\n          } // create the links\n\n\n          var l = {\n            id: 'l-' + i.id + '-' + o.id,\n            inner: i,\n            outer: o\n          };\n          links.push(l); // and the relationships\n\n          i.related_nodes.push(o.id);\n          i.related_links.push(l.id);\n          o.related_nodes.push(i.id);\n          o.related_links.push(l.id);\n        });\n      });\n      data = {\n        inner: inner,\n        outer: outer.values(),\n        links: links // sort the data -- TODO: have multiple sort options\n\n      };\n      outer = data.outer;\n      data.outer = Array(outer.length);\n      var i1 = 0;\n      var i2 = outer.length - 1;\n\n      for (var i = 0; i < data.outer.length; ++i) {\n        if (i % 2 == 1) data.outer[i2--] = outer[i];else data.outer[i1++] = outer[i];\n      }\n\n      console.log(data.outer.reduce(function (a, b) {\n        return a + b.related_links.length;\n      }, 0) / data.outer.length); // from d3 colorbrewer: \n      // This product includes color specifications and designs developed by Cynthia Brewer (http://colorbrewer.org/).\n      // var colors = [\"#a50026\",\"#d73027\",\"#f46d43\",\"#fdae61\",\"#fee090\",\"#ffffbf\",\"#e0f3f8\",\"#abd9e9\",\"#74add1\",\"#4575b4\",\"#313695\"]\n      // var color = d3.scaleLinear()\n      //     .domain([60, 220])\n      //     .range([colors.length-1, 0])\n      //     .clamp(true);\n\n      var color = d3.scaleOrdinal().domain([\"MIL\", \"TOR\", \"PHI\", \"BOS\", \"IND\", \"BKN\", \"ORL\", \"DET\", \"CHA\", \"MIA\", \"WSH\", \"ATL\", \"CHI\", \"CLE\", \"NY\"]).range([\"#00471B\", \"#CE1141\", \"#006BB6\", \"#007A33\", \"#FDBB30\", \"#000000\", \"#0077C0\", \"#C8102E\", \"#1D1160\", \"#98002E\", \"#E31837\", \"#FFCD00\", \"#BC032B\", \"#6F263D\", \"#F58426\"]);\n      var diameter = 960;\n      var rect_width = 40;\n      var rect_height = 14;\n      var link_width = \"1px\";\n      var il = data.inner.length;\n      var ol = data.outer.length;\n      var inner_y = d3.scaleLinear().domain([0, il]).range([-(il * rect_height) / 2, il * rect_height / 2]);\n      var mid = data.outer.length / 2.0;\n      var outer_x = d3.scaleLinear().domain([0, mid, mid, data.outer.length]).range([15, 170, 195, 355]);\n      var outer_y = d3.scaleLinear().domain([0, data.outer.length]).range([0, diameter / 2 - 120]); // setup positioning\n\n      data.outer = data.outer.map(function (d, i) {\n        d.x = outer_x(i);\n        d.y = diameter / 3;\n        return d;\n      });\n      data.inner = data.inner.map(function (d, i) {\n        d.x = -(rect_width / 2);\n        d.y = inner_y(i);\n        return d;\n      }); // function get_color(name)\n      // {\n      //     var c = Math.round(color(name));\n      //     if (isNaN(c))\n      //         return '#dddddd';\t// fallback color\n      //     return colors[c];\n      // }\n      // Can't just use d3.svg.diagonal because one edge is in normal space, the\n      // other edge is in radial space. Since we can't just ask d3 to do projection\n      // of a single point, do it ourselves the same way d3 would do it.  \n\n      function projectX(x) {\n        return (x - 90) / 180 * Math.PI - Math.PI / 2;\n      } // var diagonal = d3.linkHorizontal()\n      //     .source(function(d) { return {\"x\": d.outer.y * Math.cos(projectX(d.outer.x)), \n      //                                   \"y\": -d.outer.y * Math.sin(projectX(d.outer.x))}; })            \n      //     .target(function(d) { return {\"x\": d.inner.y + rect_height/2,\n      //                                   \"y\": d.outer.x > 180 ? d.inner.x : d.inner.x + rect_width}; })\n      //     .projection(function(d) { return [d.y, d.x]; });\n\n\n      var svg = d3.select(\"body\").append(\"svg\").attr(\"width\", diameter).attr(\"height\", diameter).append(\"g\").attr(\"transform\", \"translate(\" + diameter / 2 + \",\" + diameter / 2 + \")\"); // links\n\n      var link = svg.append('g').attr('class', 'links').selectAll(\".link\").data(data.links).enter().append('path').attr('class', 'link').attr('id', function (d) {\n        return d.id;\n      }).attr(\"d\", function (d) {\n        var y1 = d.outer.y * Math.cos(projectX(d.outer.x)),\n            x1 = -d.outer.y * Math.sin(projectX(d.outer.x)),\n            y2 = d.inner.y + rect_height / 2,\n            x2 = d.outer.x > 180 ? d.inner.x : d.inner.x + rect_width;\n        return \"M\" + x1 + \",\" + y1 + \"L\" + x2 + \",\" + y2;\n      }).attr('stroke', function (d) {\n        return get_color(d.inner.name);\n      }).attr('stroke-width', link_width); // outer nodes\n\n      var onode = svg.append('g').selectAll(\".outer_node\").data(data.outer).enter().append(\"g\").attr(\"class\", \"outer_node\").attr(\"transform\", function (d) {\n        return \"rotate(\" + (d.x - 90) + \")translate(\" + d.y + \")\";\n      }).on(\"mouseover\", mouseover).on(\"mouseout\", mouseout);\n      onode.append(\"circle\").attr('id', function (d) {\n        return d.id;\n      }).attr(\"r\", 4.5);\n      onode.append(\"circle\").attr('r', 20).attr('visibility', 'hidden');\n      onode.append(\"text\").attr('id', function (d) {\n        return d.id + '-txt';\n      }).attr(\"dy\", \".31em\").attr(\"text-anchor\", function (d) {\n        return d.x < 180 ? \"start\" : \"end\";\n      }).attr(\"transform\", function (d) {\n        return d.x < 180 ? \"translate(8)\" : \"rotate(180)translate(-8)\";\n      }).text(function (d) {\n        return d.name;\n      }); // inner nodes\n\n      var inode = svg.append('g').selectAll(\".inner_node\").data(data.inner).enter().append(\"g\").attr(\"class\", \"inner_node\").attr(\"transform\", function (d, i) {\n        return \"translate(\" + d.x + \",\" + d.y + \")\";\n      }).on(\"mouseover\", mouseover).on(\"mouseout\", mouseout);\n      inode.append('rect').attr('width', rect_width).attr('height', rect_height).attr('id', function (d) {\n        return d.id;\n      }).attr('fill', function (d) {\n        return get_color(d.name);\n      });\n      inode.append(\"text\").attr('id', function (d) {\n        return d.id + '-txt';\n      }).attr('text-anchor', 'middle').attr(\"transform\", \"translate(\" + rect_width / 2 + \", \" + rect_height * .75 + \")\").text(function (d) {\n        return d.name;\n      }); // need to specify x/y/etc\n\n      d3.select(window.self.frameElement).style(\"height\", diameter - 150 + \"px\");\n\n      function mouseover(d) {\n        // bring to front\n        d3.selectAll('.links .link').sort(function (a, b) {\n          return d.related_links.indexOf(a.id);\n        });\n\n        for (var i = 0; i < d.related_nodes.length; i++) {\n          d3.select('#' + d.related_nodes[i]).classed('highlight', true);\n          d3.select('#' + d.related_nodes[i] + '-txt').attr(\"font-weight\", 'bold');\n        }\n\n        for (var i = 0; i < d.related_links.length; i++) {\n          d3.select('#' + d.related_links[i]).attr('stroke-width', '5px');\n        }\n      }\n\n      function mouseout(d) {\n        for (var i = 0; i < d.related_nodes.length; i++) {\n          d3.select('#' + d.related_nodes[i]).classed('highlight', false);\n          d3.select('#' + d.related_nodes[i] + '-txt').attr(\"font-weight\", 'normal');\n        }\n\n        for (var i = 0; i < d.related_links.length; i++) {\n          d3.select('#' + d.related_links[i]).attr('stroke-width', link_width);\n        }\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.CM();\n    } ////////// R E N D E R //////////\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        },\n        __self: this\n      }, \"Line Graph Page\"), React.createElement(\"div\", {\n        className: \"dvContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return DV3;\n}(React.Component);\n\nexport default DV3;","map":{"version":3,"sources":["/Users/silva/Desktop/code/MakeOrMiss/client/src/pages/DV3.js"],"names":["React","d3","WCdata","ECdata","DV3","data","outer","map","inner","links","outerId","forEach","d","i","id","length","name","related_links","related_nodes","push","Array","isArray","d1","o","get","set","l","values","i1","i2","console","log","reduce","a","b","color","scaleOrdinal","domain","range","diameter","rect_width","rect_height","link_width","il","ol","inner_y","scaleLinear","mid","outer_x","outer_y","x","y","projectX","Math","PI","svg","select","append","attr","link","selectAll","enter","y1","cos","x1","sin","y2","x2","get_color","onode","on","mouseover","mouseout","text","inode","window","self","frameElement","style","sort","indexOf","classed","CM","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport * as d3 from \"d3\";\nimport WCdata from '../assets/wclinedata.csv'; \nimport ECdata from '../assets/eclinedata.csv';\n\nclass DV3 extends React.Component {\n\n  CM() {\n    var data = [[66, [\"MIL\"]], [65, [\"GSW\", \"TOR\", \"MIL\"]], [64, [\"GSW\", \"TOR\", \"MIL\"]],[63, [\"GSW\", \"TOR\", \"MIL\"]],[62, [\"GSW\", \"TOR\", \"MIL\"]], [61, [\"GSW\", \"TOR\", \"MIL\"]], [60, [\"GSW\", \"TOR\", \"MIL\"]], [59, [\"POR\", \"PHI\", \"GSW\", \"TOR\", \"MIL\"]], [58, [\"HOU\", \"GSW\",\"POR\",\"PHI\", \"TOR\", \"MIL\"]], [57, [\"DEN\",\"HOU\",\"UTA\",\"GSW\",\"POR\",\"PHI\", \"TOR\", \"MIL\"]], [56, [\"OKC\",\"UTA\",\"HOU\", \"GSW\",\"POR\",\"PHI\", \"TOR\", \"MIL\", \"DEN\"]], [55, [\"OKC\",\"UTA\",\"HOU\", \"GSW\",\"POR\",\"PHI\", \"TOR\", \"MIL\", \"DEN\"]], [54, [\"OKC\",\"BOS\", \"UTA\",\"HOU\", \"GSW\",\"POR\",\"PHI\", \"TOR\", \"DEN\"]], [53, [\"OKC\",\"IND\", \"BOS\", \"UTA\",\"HOU\", \"GSW\",\"POR\",\"PHI\", \"TOR\", \"DEN\"]], [52, [\"SAS\",\"OKC\",\"IND\", \"BOS\", \"UTA\",\"HOU\", \"GSW\",\"POR\",\"PHI\", \"TOR\", \"DEN\"]],[51, [\"ORL\",\"SAS\",\"OKC\",\"IND\", \"BOS\", \"UTA\",\"HOU\", \"GSW\",\"POR\",\"PHI\", \"TOR\", \"DEN\"]], [50, [\"BKN\",\"LAC\",\"ORL\",\"SAS\",\"OKC\",\"IND\", \"BOS\", \"UTA\",\"HOU\", \"GSW\",\"POR\",\"PHI\", \"TOR\",\"DET\", \"DEN\"]], [49, [\"CHA\",\"BKN\",\"ORL\",\"LAC\",\"SAS\",\"OKC\",\"IND\", \"BOS\",\"HOU\",\"POR\",\"PHI\", \"TOR\",\"DET\", \"DEN\"]], [48, [\"MIA\",\"BKN\",\"CHA\",\"ORL\",\"SAS\",\"OKC\",\"IND\", \"BOS\",\"HOU\",\"POR\",\"PHI\", \"TOR\",\"DET\", \"DEN\",\"LAC\"]], [47, [\"MIA\",\"CHA\",\"ORL\",\"SAS\",\"OKC\",\"IND\", \"BOS\",\"HOU\",\"PHI\", \"TOR\",\"BKN\",\"DET\", \"DEN\",\"LAC\"], [46, [\"SAC\",\"MIA\",\"CHA\",\"ORL\",\"SAS\",\"OKC\",\"IND\",\"BOS\",\"PHI\",\"TOR\",\"BKN\",\"DET\",\"DEN\",\"LAC\"]], [45, [\"SAC\",\"MIA\",\"CHA\",\"ORL\",\"SAS\",\"OKC\",\"IND\", \"BOS\",\"PHI\",\"BKN\",\"DET\", \"DEN\",\"LAC\"]], [44, [\"SAC\",\"MIA\",\"CHA\",\"ORL\",\"SAS\",\"OKC\",\"IND\", \"BOS\",\"PHI\",\"BKN\",\"DET\", \"DEN\",\"LAC\"]], [43, [\"SAC\",\"MIA\",\"CHA\",\"ORL\",\"SAS\",\"OKC\",\"IND\",\"PHI\",\"BKN\",\"DET\", \"DEN\",\"LAC\"]], [42, [\"MEM\",\"SAC\",\"MIA\",\"CHA\",\"ORL\",\"SAS\",\"IND\",\"PHI\",\"BKN\",\"DET\", \"DEN\",\"LAC\"]], [41, [\"MIN\",\"LAL\",\"MEM\",\"SAC\",\"MIA\",\"CHA\",\"ORL\",\"SAS\",\"PHI\",\"BKN\",\"DET\", \"DEN\"]], [40, [\"DAL\",\"MIN\",\"LAL\",\"MEM\",\"SAC\",\"MIA\",\"CHA\",\"ORL\",\"BKN\",\"DET\"]], [39, [\"NO\",\"MIN\",\"LAL\",\"MEM\",\"SAC\",\"MIA\",\"CHA\",\"ORL\",\"BKN\",\"DET\",\"DAL\"]], [38, [\"WSH\",\"NO\",\"MIN\",\"LAL\",\"MEM\",\"SAC\",\"MIA\",\"CHA\",\"ORL\",\"BKN\",\"DET\",\"DAL\"]], [37, [\"WSH\",\"NO\",\"MIN\",\"LAL\",\"MEM\",\"SAC\",\"MIA\",\"CHA\",\"ORL\",\"BKN\",\"DET\",\"DAL\"]], [36, [\"WSH\",\"NO\",\"MIN\",\"LAL\",\"MEM\",\"SAC\",\"MIA\",\"CHA\",\"ORL\",\"BKN\",\"DET\",\"DAL\"]], 35, [\"ATL\",\"WSH\",\"NO\",\"MIN\",\"LAL\",\"MEM\",\"SAC\",\"MIA\",\"CHA\",\"BKN\",\"DET\",\"DAL\"]], [34, [\"ATL\",\"WSH\",\"NO\",\"MIN\",\"LAL\",\"MEM\",\"SAC\",\"MIA\",\"CHA\",\"BKN\",\"DAL\"]], [33, [\"ATL\",\"WSH\",\"NO\",\"MIN\",\"LAL\",\"MEM\",\"SAC\",\"MIA\",\"CHA\",\"BKN\",\"DAL\"]], [32, [\"ATL\",\"WSH\",\"NO\",\"MIN\",\"LAL\",\"MEM\",\"BKN\",\"DAL\"]], [31, [\"ATL\",\"WSH\",\"NO\",\"MIN\",\"MEM\",\"BKN\",\"DAL\"]], [30, [\"CHI\",\"ATL\",\"WSH\",\"NO\",\"MIN\",\"MEM\",\"BKN\",\"DAL\"]], [29, [\"CHI\",\"ATL\",\"WSH\",\"NO\",\"MIN\",\"MEM\",\"DAL\"]], [28, [\"CHI\",\"ATL\",\"WSH\",\"MIN\",\"MEM\",\"DAL\"]], [27, [\"CHI\",\"ATL\",\"WSH\",\"MIN\",\"MEM\",\"DAL\"]], [26, [\"CHI\",\"ATL\",\"MIN\",\"DAL\"]], [25, [\"CHI\",\"ATL\",\"DAL\"]], [24, [\"PHX\",\"NY\",\"CHI\",\"ATL\",\"DAL\"]], [23, [\"CLE\",\"NY\",\"CHI\",\"ATL\",\"PHX\",\"DAL\"]], [22, [\"CLE\",\"NY\",\"CHI\",\"ATL\",\"PHX\"]], [21, [\"CLE\",\"NY\",\"CHI\",\"ATL\",\"PHX\"]], [20, [\"CLE\",\"NY\",\"CHI\",\"ATL\",\"PHX\"]], [19, [\"CLE\",\"NY\",\"CHI\",\"PHX\"]], [18, [\"CLE\",\"NY\",\"CHI\",\"PHX\"]], [17, [\"CLE\",\"NY\",\"CHI\",\"PHX\"]], [16, [\"CLE\",\"NY\",\"CHI\",\"PHX\"]], [16, [\"CLE\",\"NY\",\"CHI\",\"PHX\"]], [15, [\"CLE\",\"NY\",\"CHI\",\"PHX\"]], [14, [\"CLE\",\"NY\",\"CHI\",\"PHX\"]], [13, [\"NY\"]]];\n    // transform the data into a useful representation\n// 1 is inner, 2, is outer\n\n// need: inner, outer, links\n//\n// inner: \n// links: { inner: outer: }\n\n\nvar outer = d3.map();\nvar inner = [];\nvar links = [];\n\nvar outerId = [0];\n\ndata.forEach(function(d){\n\t\n\tif (d == null)\n\t\treturn;\n\t\n\ti = { id: 'i' + inner.length, name: d[0], related_links: [] };\n\ti.related_nodes = [i.id];\n\tinner.push(i);\n\t\n\tif (!Array.isArray(d[1]))\n\t\td[1] = [d[1]];\n\t\n\td[1].forEach(function(d1){\n\t\t\n\t\tvar o = outer.get(d1);\n\t\t\n\t\tif (o == null)\n\t\t{\n\t\t\to = { name: d1,\tid: 'o' + outerId[0], related_links: [] };\n\t\t\to.related_nodes = [o.id];\n\t\t\touterId[0] = outerId[0] + 1;\t\n\t\t\t\n\t\t\touter.set(d1, o);\n\t\t}\n\t\t\n\t\t// create the links\n\t\tvar l = { id: 'l-' + i.id + '-' + o.id, inner: i, outer: o }\n\t\tlinks.push(l);\n\t\t\n\t\t// and the relationships\n\t\ti.related_nodes.push(o.id);\n\t\ti.related_links.push(l.id);\n\t\to.related_nodes.push(i.id);\n\t\to.related_links.push(l.id);\n\t});\n});\n\ndata = {\n\tinner: inner,\n\touter: outer.values(),\n\tlinks: links\n}\n\n// sort the data -- TODO: have multiple sort options\nouter = data.outer;\ndata.outer = Array(outer.length);\n\n\nvar i1 = 0;\nvar i2 = outer.length - 1;\n\nfor (var i = 0; i < data.outer.length; ++i)\n{\n\tif (i % 2 == 1)\n\t\tdata.outer[i2--] = outer[i];\n\telse\n\t\tdata.outer[i1++] = outer[i];\n}\n\nconsole.log(data.outer.reduce(function(a,b) { return a + b.related_links.length; }, 0) / data.outer.length);\n\n\n// from d3 colorbrewer: \n// This product includes color specifications and designs developed by Cynthia Brewer (http://colorbrewer.org/).\n// var colors = [\"#a50026\",\"#d73027\",\"#f46d43\",\"#fdae61\",\"#fee090\",\"#ffffbf\",\"#e0f3f8\",\"#abd9e9\",\"#74add1\",\"#4575b4\",\"#313695\"]\n// var color = d3.scaleLinear()\n//     .domain([60, 220])\n//     .range([colors.length-1, 0])\n//     .clamp(true);\n\n  var color = d3.scaleOrdinal()\n     .domain([\"MIL\", \"TOR\", \"PHI\", \"BOS\", \"IND\", \"BKN\", \"ORL\", \"DET\", \"CHA\", \"MIA\", \"WSH\", \"ATL\", \"CHI\", \"CLE\", \"NY\"])\n     .range([ \"#00471B\", \"#CE1141\",\"#006BB6\", \"#007A33\", \"#FDBB30\",\"#000000\",\"#0077C0\",\"#C8102E\",\"#1D1160\",\"#98002E\",\"#E31837\",\"#FFCD00\",\"#BC032B\",\"#6F263D\", \"#F58426\"])\n     \nvar diameter = 960;\nvar rect_width = 40;\nvar rect_height = 14;\n\nvar link_width = \"1px\"; \n\nvar il = data.inner.length;\nvar ol = data.outer.length;\n\nvar inner_y = d3.scaleLinear()\n    .domain([0, il])\n    .range([-(il * rect_height)/2, (il * rect_height)/2]);\n\nvar mid = (data.outer.length/2.0)\nvar outer_x = d3.scaleLinear()\n    .domain([0, mid, mid, data.outer.length])\n    .range([15, 170, 195 ,355]);\n\nvar outer_y = d3.scaleLinear()\n    .domain([0, data.outer.length])\n    .range([0, diameter / 2 - 120]);\n\n\n// setup positioning\ndata.outer = data.outer.map(function(d, i) { \n    d.x = outer_x(i);\n    d.y = diameter/3;\n    return d;\n});\n\ndata.inner = data.inner.map(function(d, i) { \n    d.x = -(rect_width / 2);\n    d.y = inner_y(i);\n    return d;\n});\n\n\n// function get_color(name)\n// {\n//     var c = Math.round(color(name));\n//     if (isNaN(c))\n//         return '#dddddd';\t// fallback color\n    \n//     return colors[c];\n// }\n\n// Can't just use d3.svg.diagonal because one edge is in normal space, the\n// other edge is in radial space. Since we can't just ask d3 to do projection\n// of a single point, do it ourselves the same way d3 would do it.  \n\n\nfunction projectX(x)\n{\n    return ((x - 90) / 180 * Math.PI) - (Math.PI/2);\n}\n\n// var diagonal = d3.linkHorizontal()\n//     .source(function(d) { return {\"x\": d.outer.y * Math.cos(projectX(d.outer.x)), \n//                                   \"y\": -d.outer.y * Math.sin(projectX(d.outer.x))}; })            \n//     .target(function(d) { return {\"x\": d.inner.y + rect_height/2,\n//                                   \"y\": d.outer.x > 180 ? d.inner.x : d.inner.x + rect_width}; })\n//     .projection(function(d) { return [d.y, d.x]; });\n  \n\n\nvar svg = d3.select(\"body\").append(\"svg\")\n    .attr(\"width\", diameter)\n    .attr(\"height\", diameter)\n  .append(\"g\")\n    .attr(\"transform\", \"translate(\" + diameter / 2 + \",\" + diameter / 2 + \")\");\n    \n\n// links\n\nvar link = svg.append('g').attr('class', 'links').selectAll(\".link\")\n    .data(data.links)\n  .enter().append('path')\n    .attr('class', 'link')\n    .attr('id', function(d) { return d.id })\n    .attr(\"d\", function(d){\n      var y1 = d.outer.y * Math.cos(projectX(d.outer.x)),\n          x1 = -d.outer.y * Math.sin(projectX(d.outer.x)),\n          y2 = d.inner.y + rect_height/2,\n          x2 = d.outer.x > 180 ? d.inner.x : d.inner.x + rect_width;\n        return \"M\" + x1 + \",\" + y1 + \"L\" + x2 + \",\" + y2;\n    })\n    .attr('stroke', function(d) { return get_color(d.inner.name); })\n    .attr('stroke-width', link_width);\n\n// outer nodes\n\nvar onode = svg.append('g').selectAll(\".outer_node\")\n    .data(data.outer)\n  .enter().append(\"g\")\n    .attr(\"class\", \"outer_node\")\n    .attr(\"transform\", function(d) { return \"rotate(\" + (d.x - 90) + \")translate(\" + d.y + \")\"; })\n    .on(\"mouseover\", mouseover)\n    .on(\"mouseout\", mouseout);\n  \nonode.append(\"circle\")\n    .attr('id', function(d) { return d.id })\n    .attr(\"r\", 4.5);\n  \nonode.append(\"circle\")\n    .attr('r', 20)\n    .attr('visibility', 'hidden');\n  \nonode.append(\"text\")\n\t.attr('id', function(d) { return d.id + '-txt'; })\n    .attr(\"dy\", \".31em\")\n    .attr(\"text-anchor\", function(d) { return d.x < 180 ? \"start\" : \"end\"; })\n    .attr(\"transform\", function(d) { return d.x < 180 ? \"translate(8)\" : \"rotate(180)translate(-8)\"; })\n    .text(function(d) { return d.name; });\n  \n// inner nodes\n  \nvar inode = svg.append('g').selectAll(\".inner_node\")\n    .data(data.inner)\n  .enter().append(\"g\")\n    .attr(\"class\", \"inner_node\")\n    .attr(\"transform\", function(d, i) { return \"translate(\" + d.x + \",\" + d.y + \")\"})\n    .on(\"mouseover\", mouseover)\n    .on(\"mouseout\", mouseout);\n  \ninode.append('rect')\n    .attr('width', rect_width)\n    .attr('height', rect_height)\n    .attr('id', function(d) { return d.id; })\n    .attr('fill', function(d) { return get_color(d.name); });\n  \ninode.append(\"text\")\n\t.attr('id', function(d) { return d.id + '-txt'; })\n    .attr('text-anchor', 'middle')\n    .attr(\"transform\", \"translate(\" + rect_width/2 + \", \" + rect_height * .75 + \")\")\n    .text(function(d) { return d.name; });\n\n// need to specify x/y/etc\n\nd3.select(window.self.frameElement).style(\"height\", diameter - 150 + \"px\");\n\nfunction mouseover(d)\n{\n\t// bring to front\n\td3.selectAll('.links .link').sort(function(a, b){ return d.related_links.indexOf(a.id); });\t\n\t\n    for (var i = 0; i < d.related_nodes.length; i++)\n    {\n        d3.select('#' + d.related_nodes[i]).classed('highlight', true);\n        d3.select('#' + d.related_nodes[i] + '-txt').attr(\"font-weight\", 'bold');\n    }\n    \n    for (var i = 0; i < d.related_links.length; i++)\n        d3.select('#' + d.related_links[i]).attr('stroke-width', '5px');\n}\n\nfunction mouseout(d)\n{   \t\n    for (var i = 0; i < d.related_nodes.length; i++)\n    {\n        d3.select('#' + d.related_nodes[i]).classed('highlight', false);\n        d3.select('#' + d.related_nodes[i] + '-txt').attr(\"font-weight\", 'normal');\n    }\n    \n    for (var i = 0; i < d.related_links.length; i++)\n        d3.select('#' + d.related_links[i]).attr('stroke-width', link_width);\n}\n\n\n\n  }\n\n\n  componentDidMount() {\n      this.CM()\n  }\n\n\n  ////////// R E N D E R //////////\n\n  render() {\n    return (\n      <div>\n        <h1>Line Graph Page</h1>\n        <div className=\"dvContainer\">\n\n        </div>\n\n      </div>\n    )\n  }\n\n}\nexport default DV3;"]},"metadata":{},"sourceType":"module"}