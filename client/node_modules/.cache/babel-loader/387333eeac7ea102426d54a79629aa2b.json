{"ast":null,"code":"import _classCallCheck from \"/Users/silva/Desktop/code/MakeOrMiss/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/silva/Desktop/code/MakeOrMiss/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/silva/Desktop/code/MakeOrMiss/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/silva/Desktop/code/MakeOrMiss/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/silva/Desktop/code/MakeOrMiss/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/silva/Desktop/code/MakeOrMiss/client/src/pages/DV3.js\";\nimport React from \"react\";\nimport * as d3 from \"d3\";\nimport WCdata from '../assets/wclinedata.csv';\nimport ECdata from '../assets/eclinedata.csv';\n\nvar DV3 =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(DV3, _React$Component);\n\n  function DV3() {\n    _classCallCheck(this, DV3);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(DV3).apply(this, arguments));\n  }\n\n  _createClass(DV3, [{\n    key: \"CM\",\n    value: function CM() {\n      var data = [[66, [\"MIL\", \"GSW\"]], [65, [\"GSW\", \"TOR\", \"MIL\"]], [64, [\"GSW\", \"TOR\", \"MIL\"]], [63, [\"GSW\", \"TOR\", \"MIL\"]], [62, [\"GSW\", \"TOR\", \"MIL\"]], [61, [\"GSW\", \"TOR\", \"MIL\"]], [60, [\"GSW\", \"TOR\", \"MIL\"]], [59, [\"POR\", \"PHI\", \"GSW\", \"TOR\", \"MIL\"]], [58, [\"HOU\", \"GSW\", \"POR\", \"PHI\", \"TOR\", \"MIL\"]], [57, [\"HOU\", \"UTA\", \"GSW\", \"POR\", \"PHI\", \"TOR\", \"MIL\"]], [56, [\"OKC\", \"UTA\", \"HOU\", \"GSW\", \"POR\", \"PHI\", \"TOR\", \"MIL\"]], [55, [\"OKC\", \"UTA\", \"HOU\", \"GSW\", \"POR\", \"PHI\", \"TOR\", \"MIL\"]], [54, [\"OKC\", \"BOS\", \"UTA\", \"HOU\", \"GSW\", \"POR\", \"PHI\", \"TOR\"]], [53, [\"OKC\", \"IND\", \"BOS\", \"UTA\", \"HOU\", \"GSW\", \"POR\", \"PHI\", \"TOR\"]], [52, [\"SAS\", \"OKC\", \"IND\", \"BOS\", \"UTA\", \"HOU\", \"GSW\", \"POR\", \"PHI\", \"TOR\"]], [51, [\"ORL\", \"SAS\", \"OKC\", \"IND\", \"BOS\", \"UTA\", \"HOU\", \"GSW\", \"POR\", \"PHI\", \"TOR\"]], [50, [\"BKN\", \"LAC\", \"ORL\", \"SAS\", \"OKC\", \"IND\", \"BOS\", \"UTA\", \"HOU\", \"GSW\", \"POR\", \"PHI\", \"TOR\", \"DET\"]], [49, [\"CHA\", \"BKN\", \"ORL\", \"LAC\", \"SAS\", \"OKC\", \"IND\", \"BOS\", \"HOU\", \"POR\", \"PHI\", \"TOR\", \"DET\"]], [48, [\"MIA\", \"BKN\", \"CHA\", \"ORL\", \"SAS\", \"OKC\", \"IND\", \"BOS\", \"HOU\", \"POR\", \"PHI\", \"TOR\", \"DET\"]], [47, [\"MIA\", \"CHA\", \"ORL\", \"SAS\", \"OKC\", \"IND\", \"BOS\", \"HOU\", \"PHI\", \"TOR\", \"BKN\", \"DET\"], [46, [\"SAC\", \"MIA\", \"CHA\", \"ORL\", \"SAS\", \"OKC\", \"IND\", \"BOS\", \"PHI\", \"TOR\", \"BKN\", \"DET\"]], [45, [\"SAC\", \"MIA\", \"CHA\", \"ORL\", \"SAS\", \"OKC\", \"IND\", \"BOS\", \"PHI\", \"BKN\", \"DET\"]], [44, [\"SAC\", \"MIA\", \"CHA\", \"ORL\", \"SAS\", \"OKC\", \"IND\", \"BOS\", \"PHI\", \"BKN\", \"DET\"]], [43, [\"SAC\", \"MIA\", \"CHA\", \"ORL\", \"SAS\", \"OKC\", \"IND\", \"PHI\", \"BKN\", \"DET\"]], [42, [\"MEM\", \"SAC\", \"MIA\", \"CHA\", \"ORL\", \"SAS\", \"IND\", \"PHI\", \"BKN\", \"DET\"]], [41, [\"MIN\", \"MEM\", \"SAC\", \"MIA\", \"CHA\", \"ORL\", \"SAS\", \"PHI\", \"BKN\", \"DET\"]], [40, [\"MIN\", \"MEM\", \"SAC\", \"MIA\", \"CHA\", \"ORL\", \"BKN\", \"DET\"]], [39, []], [38, []], [37, []], [36, []], 35, []], [34, []], [33, []], [32, []], [31, []], [30, []], [29, []], [28, []], [27, []], [26, []], [25, []], [24, []], [23, []], [22, []], [21, []], [20, []], [19, []], [18, []], [17, []], [16, []], [16, []], [15, []], [14, []], [13, []]]; // transform the data into a useful representation\n      // 1 is inner, 2, is outer\n      // need: inner, outer, links\n      //\n      // inner: \n      // links: { inner: outer: }\n\n      var outer = d3.map();\n      var inner = [];\n      var links = [];\n      var outerId = [0];\n      data.forEach(function (d) {\n        if (d == null) return;\n        i = {\n          id: 'i' + inner.length,\n          name: d[0],\n          related_links: []\n        };\n        i.related_nodes = [i.id];\n        inner.push(i);\n        if (!Array.isArray(d[1])) d[1] = [d[1]];\n        d[1].forEach(function (d1) {\n          var o = outer.get(d1);\n\n          if (o == null) {\n            o = {\n              name: d1,\n              id: 'o' + outerId[0],\n              related_links: []\n            };\n            o.related_nodes = [o.id];\n            outerId[0] = outerId[0] + 1;\n            outer.set(d1, o);\n          } // create the links\n\n\n          var l = {\n            id: 'l-' + i.id + '-' + o.id,\n            inner: i,\n            outer: o\n          };\n          links.push(l); // and the relationships\n\n          i.related_nodes.push(o.id);\n          i.related_links.push(l.id);\n          o.related_nodes.push(i.id);\n          o.related_links.push(l.id);\n        });\n      });\n      data = {\n        inner: inner,\n        outer: outer.values(),\n        links: links // sort the data -- TODO: have multiple sort options\n\n      };\n      outer = data.outer;\n      data.outer = Array(outer.length);\n      var i1 = 0;\n      var i2 = outer.length - 1;\n\n      for (var i = 0; i < data.outer.length; ++i) {\n        if (i % 2 == 1) data.outer[i2--] = outer[i];else data.outer[i1++] = outer[i];\n      }\n\n      console.log(data.outer.reduce(function (a, b) {\n        return a + b.related_links.length;\n      }, 0) / data.outer.length); // from d3 colorbrewer: \n      // This product includes color specifications and designs developed by Cynthia Brewer (http://colorbrewer.org/).\n\n      var colors = [\"#a50026\", \"#d73027\", \"#f46d43\", \"#fdae61\", \"#fee090\", \"#ffffbf\", \"#e0f3f8\", \"#abd9e9\", \"#74add1\", \"#4575b4\", \"#313695\"];\n      var color = d3.scaleLinear().domain([60, 220]).range([colors.length - 1, 0]).clamp(true);\n      var diameter = 960;\n      var rect_width = 40;\n      var rect_height = 14;\n      var link_width = \"1px\";\n      var il = data.inner.length;\n      var ol = data.outer.length;\n      var inner_y = d3.scaleLinear().domain([0, il]).range([-(il * rect_height) / 2, il * rect_height / 2]);\n      var mid = data.outer.length / 2.0;\n      var outer_x = d3.scaleLinear().domain([0, mid, mid, data.outer.length]).range([15, 170, 190, 355]);\n      var outer_y = d3.scaleLinear().domain([0, data.outer.length]).range([0, diameter / 2 - 120]); // setup positioning\n\n      data.outer = data.outer.map(function (d, i) {\n        d.x = outer_x(i);\n        d.y = diameter / 3;\n        return d;\n      });\n      data.inner = data.inner.map(function (d, i) {\n        d.x = -(rect_width / 2);\n        d.y = inner_y(i);\n        return d;\n      });\n\n      function get_color(name) {\n        var c = Math.round(color(name));\n        if (isNaN(c)) return '#dddddd'; // fallback color\n\n        return colors[c];\n      } // Can't just use d3.svg.diagonal because one edge is in normal space, the\n      // other edge is in radial space. Since we can't just ask d3 to do projection\n      // of a single point, do it ourselves the same way d3 would do it.  \n\n\n      function projectX(x) {\n        return (x - 90) / 180 * Math.PI - Math.PI / 2;\n      }\n\n      var diagonal = d3.linkHorizontal().source(function (d) {\n        return {\n          \"x\": d.outer.y * Math.cos(projectX(d.outer.x)),\n          \"y\": -d.outer.y * Math.sin(projectX(d.outer.x))\n        };\n      }).target(function (d) {\n        return {\n          \"x\": d.inner.y + rect_height / 2,\n          \"y\": d.outer.x > 180 ? d.inner.x : d.inner.x + rect_width\n        };\n      });\n      var svg = d3.select(\"body\").append(\"svg\").attr(\"width\", diameter).attr(\"height\", diameter).append(\"g\").attr(\"transform\", \"translate(\" + diameter / 2 + \",\" + diameter / 2 + \")\"); // links\n\n      var link = svg.append('g').attr('class', 'links').selectAll(\".link\").data(data.links).enter().append('path').attr('class', 'link').attr('id', function (d) {\n        return d.id;\n      }).attr(\"d\", diagonal).attr('stroke', function (d) {\n        return get_color(d.inner.name);\n      }).attr('stroke-width', link_width); // outer nodes\n\n      var onode = svg.append('g').selectAll(\".outer_node\").data(data.outer).enter().append(\"g\").attr(\"class\", \"outer_node\").attr(\"transform\", function (d) {\n        return \"rotate(\" + (d.x - 90) + \")translate(\" + d.y + \")\";\n      }).on(\"mouseover\", mouseover).on(\"mouseout\", mouseout);\n      onode.append(\"circle\").attr('id', function (d) {\n        return d.id;\n      }).attr(\"r\", 4.5);\n      onode.append(\"circle\").attr('r', 20).attr('visibility', 'hidden');\n      onode.append(\"text\").attr('id', function (d) {\n        return d.id + '-txt';\n      }).attr(\"dy\", \".31em\").attr(\"text-anchor\", function (d) {\n        return d.x < 180 ? \"start\" : \"end\";\n      }).attr(\"transform\", function (d) {\n        return d.x < 180 ? \"translate(8)\" : \"rotate(180)translate(-8)\";\n      }).text(function (d) {\n        return d.name;\n      }); // inner nodes\n\n      var inode = svg.append('g').selectAll(\".inner_node\").data(data.inner).enter().append(\"g\").attr(\"class\", \"inner_node\").attr(\"transform\", function (d, i) {\n        return \"translate(\" + d.x + \",\" + d.y + \")\";\n      }).on(\"mouseover\", mouseover).on(\"mouseout\", mouseout);\n      inode.append('rect').attr('width', rect_width).attr('height', rect_height).attr('id', function (d) {\n        return d.id;\n      }).attr('fill', function (d) {\n        return get_color(d.name);\n      });\n      inode.append(\"text\").attr('id', function (d) {\n        return d.id + '-txt';\n      }).attr('text-anchor', 'middle').attr(\"transform\", \"translate(\" + rect_width / 2 + \", \" + rect_height * .75 + \")\").text(function (d) {\n        return d.name;\n      }); // need to specify x/y/etc\n\n      d3.select(window.self.frameElement).style(\"height\", diameter - 150 + \"px\");\n\n      function mouseover(d) {\n        // bring to front\n        d3.selectAll('.links .link').sort(function (a, b) {\n          return d.related_links.indexOf(a.id);\n        });\n\n        for (var i = 0; i < d.related_nodes.length; i++) {\n          d3.select('#' + d.related_nodes[i]).classed('highlight', true);\n          d3.select('#' + d.related_nodes[i] + '-txt').attr(\"font-weight\", 'bold');\n        }\n\n        for (var i = 0; i < d.related_links.length; i++) {\n          d3.select('#' + d.related_links[i]).attr('stroke-width', '5px');\n        }\n      }\n\n      function mouseout(d) {\n        for (var i = 0; i < d.related_nodes.length; i++) {\n          d3.select('#' + d.related_nodes[i]).classed('highlight', false);\n          d3.select('#' + d.related_nodes[i] + '-txt').attr(\"font-weight\", 'normal');\n        }\n\n        for (var i = 0; i < d.related_links.length; i++) {\n          d3.select('#' + d.related_links[i]).attr('stroke-width', link_width);\n        }\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.CM();\n    } ////////// R E N D E R //////////\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }, \"Line Graph Page\"), React.createElement(\"div\", {\n        className: \"dvContainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return DV3;\n}(React.Component);\n\nexport default DV3;","map":{"version":3,"sources":["/Users/silva/Desktop/code/MakeOrMiss/client/src/pages/DV3.js"],"names":["React","d3","WCdata","ECdata","DV3","data","outer","map","inner","links","outerId","forEach","d","i","id","length","name","related_links","related_nodes","push","Array","isArray","d1","o","get","set","l","values","i1","i2","console","log","reduce","a","b","colors","color","scaleLinear","domain","range","clamp","diameter","rect_width","rect_height","link_width","il","ol","inner_y","mid","outer_x","outer_y","x","y","get_color","c","Math","round","isNaN","projectX","PI","diagonal","linkHorizontal","source","cos","sin","target","svg","select","append","attr","link","selectAll","enter","onode","on","mouseover","mouseout","text","inode","window","self","frameElement","style","sort","indexOf","classed","CM","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport * as d3 from \"d3\";\nimport WCdata from '../assets/wclinedata.csv'; \nimport ECdata from '../assets/eclinedata.csv';\n\nclass DV3 extends React.Component {\n\n  CM() {\n    var data = [[66, [\"MIL\",\"GSW\"]], [65, [\"GSW\", \"TOR\", \"MIL\"]], [64, [\"GSW\", \"TOR\", \"MIL\"]],[63, [\"GSW\", \"TOR\", \"MIL\"]],[62, [\"GSW\", \"TOR\", \"MIL\"]], [61, [\"GSW\", \"TOR\", \"MIL\"]], [60, [\"GSW\", \"TOR\", \"MIL\"]], [59, [\"POR\", \"PHI\", \"GSW\", \"TOR\", \"MIL\"]], [58, [\"HOU\", \"GSW\",\"POR\",\"PHI\", \"TOR\", \"MIL\"]], [57, [\"HOU\",\"UTA\",\"GSW\",\"POR\",\"PHI\", \"TOR\", \"MIL\"]], [56, [\"OKC\",\"UTA\",\"HOU\", \"GSW\",\"POR\",\"PHI\", \"TOR\", \"MIL\"]], [55, [\"OKC\",\"UTA\",\"HOU\", \"GSW\",\"POR\",\"PHI\", \"TOR\", \"MIL\"]], [54, [\"OKC\",\"BOS\", \"UTA\",\"HOU\", \"GSW\",\"POR\",\"PHI\", \"TOR\"]], [53, [\"OKC\",\"IND\", \"BOS\", \"UTA\",\"HOU\", \"GSW\",\"POR\",\"PHI\", \"TOR\"]], [52, [\"SAS\",\"OKC\",\"IND\", \"BOS\", \"UTA\",\"HOU\", \"GSW\",\"POR\",\"PHI\", \"TOR\"]],[51, [\"ORL\",\"SAS\",\"OKC\",\"IND\", \"BOS\", \"UTA\",\"HOU\", \"GSW\",\"POR\",\"PHI\", \"TOR\"]], [50, [\"BKN\",\"LAC\",\"ORL\",\"SAS\",\"OKC\",\"IND\", \"BOS\", \"UTA\",\"HOU\", \"GSW\",\"POR\",\"PHI\", \"TOR\",\"DET\"]], [49, [\"CHA\",\"BKN\",\"ORL\",\"LAC\",\"SAS\",\"OKC\",\"IND\", \"BOS\",\"HOU\",\"POR\",\"PHI\", \"TOR\",\"DET\"]], [48, [\"MIA\",\"BKN\",\"CHA\",\"ORL\",\"SAS\",\"OKC\",\"IND\", \"BOS\",\"HOU\",\"POR\",\"PHI\", \"TOR\",\"DET\"]], [47, [\"MIA\",\"CHA\",\"ORL\",\"SAS\",\"OKC\",\"IND\", \"BOS\",\"HOU\",\"PHI\", \"TOR\",\"BKN\",\"DET\"], [46, [\"SAC\",\"MIA\",\"CHA\",\"ORL\",\"SAS\",\"OKC\",\"IND\", \"BOS\",\"PHI\", \"TOR\",\"BKN\",\"DET\"]], [45, [\"SAC\",\"MIA\",\"CHA\",\"ORL\",\"SAS\",\"OKC\",\"IND\", \"BOS\",\"PHI\",\"BKN\",\"DET\"]], [44, [\"SAC\",\"MIA\",\"CHA\",\"ORL\",\"SAS\",\"OKC\",\"IND\", \"BOS\",\"PHI\",\"BKN\",\"DET\"]], [43, [\"SAC\",\"MIA\",\"CHA\",\"ORL\",\"SAS\",\"OKC\",\"IND\",\"PHI\",\"BKN\",\"DET\"]], [42, [\"MEM\",\"SAC\",\"MIA\",\"CHA\",\"ORL\",\"SAS\",\"IND\",\"PHI\",\"BKN\",\"DET\"]], [41, [\"MIN\",\"MEM\",\"SAC\",\"MIA\",\"CHA\",\"ORL\",\"SAS\",\"PHI\",\"BKN\",\"DET\"]], [40, [\"MIN\",\"MEM\",\"SAC\",\"MIA\",\"CHA\",\"ORL\",\"BKN\",\"DET\"]], [39, []], [38, []], [37, []], [36, []], 35, []], [34, []], [33, []], [32, []], [31, []], [30, []], [29, []], [28, []], [27, []], [26, []], [25, []], [24, []], [23, []], [22, []], [21, []], [20, []], [19, []], [18, []], [17, []], [16, []], [16, []], [15, []], [14, []], [13, []]]\n    // transform the data into a useful representation\n// 1 is inner, 2, is outer\n\n// need: inner, outer, links\n//\n// inner: \n// links: { inner: outer: }\n\n\nvar outer = d3.map();\nvar inner = [];\nvar links = [];\n\nvar outerId = [0];\n\ndata.forEach(function(d){\n\t\n\tif (d == null)\n\t\treturn;\n\t\n\ti = { id: 'i' + inner.length, name: d[0], related_links: [] };\n\ti.related_nodes = [i.id];\n\tinner.push(i);\n\t\n\tif (!Array.isArray(d[1]))\n\t\td[1] = [d[1]];\n\t\n\td[1].forEach(function(d1){\n\t\t\n\t\tvar o = outer.get(d1);\n\t\t\n\t\tif (o == null)\n\t\t{\n\t\t\to = { name: d1,\tid: 'o' + outerId[0], related_links: [] };\n\t\t\to.related_nodes = [o.id];\n\t\t\touterId[0] = outerId[0] + 1;\t\n\t\t\t\n\t\t\touter.set(d1, o);\n\t\t}\n\t\t\n\t\t// create the links\n\t\tvar l = { id: 'l-' + i.id + '-' + o.id, inner: i, outer: o }\n\t\tlinks.push(l);\n\t\t\n\t\t// and the relationships\n\t\ti.related_nodes.push(o.id);\n\t\ti.related_links.push(l.id);\n\t\to.related_nodes.push(i.id);\n\t\to.related_links.push(l.id);\n\t});\n});\n\ndata = {\n\tinner: inner,\n\touter: outer.values(),\n\tlinks: links\n}\n\n// sort the data -- TODO: have multiple sort options\nouter = data.outer;\ndata.outer = Array(outer.length);\n\n\nvar i1 = 0;\nvar i2 = outer.length - 1;\n\nfor (var i = 0; i < data.outer.length; ++i)\n{\n\tif (i % 2 == 1)\n\t\tdata.outer[i2--] = outer[i];\n\telse\n\t\tdata.outer[i1++] = outer[i];\n}\n\nconsole.log(data.outer.reduce(function(a,b) { return a + b.related_links.length; }, 0) / data.outer.length);\n\n\n// from d3 colorbrewer: \n// This product includes color specifications and designs developed by Cynthia Brewer (http://colorbrewer.org/).\nvar colors = [\"#a50026\",\"#d73027\",\"#f46d43\",\"#fdae61\",\"#fee090\",\"#ffffbf\",\"#e0f3f8\",\"#abd9e9\",\"#74add1\",\"#4575b4\",\"#313695\"]\nvar color = d3.scaleLinear()\n    .domain([60, 220])\n    .range([colors.length-1, 0])\n    .clamp(true);\n\nvar diameter = 960;\nvar rect_width = 40;\nvar rect_height = 14;\n\nvar link_width = \"1px\"; \n\nvar il = data.inner.length;\nvar ol = data.outer.length;\n\nvar inner_y = d3.scaleLinear()\n    .domain([0, il])\n    .range([-(il * rect_height)/2, (il * rect_height)/2]);\n\nvar mid = (data.outer.length/2.0)\nvar outer_x = d3.scaleLinear()\n    .domain([0, mid, mid, data.outer.length])\n    .range([15, 170, 190 ,355]);\n\nvar outer_y = d3.scaleLinear()\n    .domain([0, data.outer.length])\n    .range([0, diameter / 2 - 120]);\n\n\n// setup positioning\ndata.outer = data.outer.map(function(d, i) { \n    d.x = outer_x(i);\n    d.y = diameter/3;\n    return d;\n});\n\ndata.inner = data.inner.map(function(d, i) { \n    d.x = -(rect_width / 2);\n    d.y = inner_y(i);\n    return d;\n});\n\n\nfunction get_color(name)\n{\n    var c = Math.round(color(name));\n    if (isNaN(c))\n        return '#dddddd';\t// fallback color\n    \n    return colors[c];\n}\n\n// Can't just use d3.svg.diagonal because one edge is in normal space, the\n// other edge is in radial space. Since we can't just ask d3 to do projection\n// of a single point, do it ourselves the same way d3 would do it.  \n\n\nfunction projectX(x)\n{\n    return ((x - 90) / 180 * Math.PI) - (Math.PI/2);\n}\n\nvar diagonal = d3.linkHorizontal()\n    .source(function(d) { return {\"x\": d.outer.y * Math.cos(projectX(d.outer.x)), \n                                  \"y\": -d.outer.y * Math.sin(projectX(d.outer.x))}; })            \n    .target(function(d) { return {\"x\": d.inner.y + rect_height/2,\n                                  \"y\": d.outer.x > 180 ? d.inner.x : d.inner.x + rect_width}; })\n  \n\n\nvar svg = d3.select(\"body\").append(\"svg\")\n    .attr(\"width\", diameter)\n    .attr(\"height\", diameter)\n  .append(\"g\")\n    .attr(\"transform\", \"translate(\" + diameter / 2 + \",\" + diameter / 2 + \")\");\n    \n\n// links\nvar link = svg.append('g').attr('class', 'links').selectAll(\".link\")\n    .data(data.links)\n  .enter().append('path')\n    .attr('class', 'link')\n    .attr('id', function(d) { return d.id })\n    .attr(\"d\", diagonal)\n    .attr('stroke', function(d) { return get_color(d.inner.name); })\n    .attr('stroke-width', link_width);\n\n// outer nodes\n\nvar onode = svg.append('g').selectAll(\".outer_node\")\n    .data(data.outer)\n  .enter().append(\"g\")\n    .attr(\"class\", \"outer_node\")\n    .attr(\"transform\", function(d) { return \"rotate(\" + (d.x - 90) + \")translate(\" + d.y + \")\"; })\n    .on(\"mouseover\", mouseover)\n    .on(\"mouseout\", mouseout);\n  \nonode.append(\"circle\")\n    .attr('id', function(d) { return d.id })\n    .attr(\"r\", 4.5);\n  \nonode.append(\"circle\")\n    .attr('r', 20)\n    .attr('visibility', 'hidden');\n  \nonode.append(\"text\")\n\t.attr('id', function(d) { return d.id + '-txt'; })\n    .attr(\"dy\", \".31em\")\n    .attr(\"text-anchor\", function(d) { return d.x < 180 ? \"start\" : \"end\"; })\n    .attr(\"transform\", function(d) { return d.x < 180 ? \"translate(8)\" : \"rotate(180)translate(-8)\"; })\n    .text(function(d) { return d.name; });\n  \n// inner nodes\n  \nvar inode = svg.append('g').selectAll(\".inner_node\")\n    .data(data.inner)\n  .enter().append(\"g\")\n    .attr(\"class\", \"inner_node\")\n    .attr(\"transform\", function(d, i) { return \"translate(\" + d.x + \",\" + d.y + \")\"})\n    .on(\"mouseover\", mouseover)\n    .on(\"mouseout\", mouseout);\n  \ninode.append('rect')\n    .attr('width', rect_width)\n    .attr('height', rect_height)\n    .attr('id', function(d) { return d.id; })\n    .attr('fill', function(d) { return get_color(d.name); });\n  \ninode.append(\"text\")\n\t.attr('id', function(d) { return d.id + '-txt'; })\n    .attr('text-anchor', 'middle')\n    .attr(\"transform\", \"translate(\" + rect_width/2 + \", \" + rect_height * .75 + \")\")\n    .text(function(d) { return d.name; });\n\n// need to specify x/y/etc\n\nd3.select(window.self.frameElement).style(\"height\", diameter - 150 + \"px\");\n\nfunction mouseover(d)\n{\n\t// bring to front\n\td3.selectAll('.links .link').sort(function(a, b){ return d.related_links.indexOf(a.id); });\t\n\t\n    for (var i = 0; i < d.related_nodes.length; i++)\n    {\n        d3.select('#' + d.related_nodes[i]).classed('highlight', true);\n        d3.select('#' + d.related_nodes[i] + '-txt').attr(\"font-weight\", 'bold');\n    }\n    \n    for (var i = 0; i < d.related_links.length; i++)\n        d3.select('#' + d.related_links[i]).attr('stroke-width', '5px');\n}\n\nfunction mouseout(d)\n{   \t\n    for (var i = 0; i < d.related_nodes.length; i++)\n    {\n        d3.select('#' + d.related_nodes[i]).classed('highlight', false);\n        d3.select('#' + d.related_nodes[i] + '-txt').attr(\"font-weight\", 'normal');\n    }\n    \n    for (var i = 0; i < d.related_links.length; i++)\n        d3.select('#' + d.related_links[i]).attr('stroke-width', link_width);\n}\n\n\n\n  }\n\n\n  componentDidMount() {\n      this.CM()\n  }\n\n\n  ////////// R E N D E R //////////\n\n  render() {\n    return (\n      <div>\n        <h1>Line Graph Page</h1>\n        <div className=\"dvContainer\">\n\n        </div>\n\n      </div>\n    )\n  }\n\n}\nexport default DV3;"]},"metadata":{},"sourceType":"module"}