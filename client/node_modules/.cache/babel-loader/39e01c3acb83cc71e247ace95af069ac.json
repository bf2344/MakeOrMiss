{"ast":null,"code":"import _classCallCheck from \"/Users/brianford/Desktop/MakeOrMiss/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/brianford/Desktop/MakeOrMiss/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/brianford/Desktop/MakeOrMiss/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/brianford/Desktop/MakeOrMiss/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/brianford/Desktop/MakeOrMiss/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/brianford/Desktop/MakeOrMiss/client/src/pages/About.js\";\nimport React from \"react\";\nimport * as d3 from 'd3';\nimport Clutch from '../assets/Clutch.csv';\n\nvar About =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(About, _React$Component);\n\n  function About() {\n    _classCallCheck(this, About);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(About).apply(this, arguments));\n  }\n\n  _createClass(About, [{\n    key: \"CB\",\n    value: function CB() {\n      // set the dimensions and margins of the graph\n      var width = 460;\n      var height = 460; // append the svg object to the body of the page\n\n      var svg = d3.select(\"#CB\").append(\"svg\").attr(\"width\", width).attr(\"height\", height); // Read data\n\n      d3.csv(\"../assets/Clutch.csv\").then(function (data) {\n        // Filter a bit the data -> more than 1 million inhabitants\n        var data = data.filter(function (d) {\n          return d.value > 10000000;\n        }); // Color palette for continents?\n\n        var color = d3.scaleOrdinal().domain([\"Asia\", \"Europe\", \"Africa\", \"Oceania\", \"Americas\"]).range(d3.schemeSet1); // Size scale for countries\n\n        var size = d3.scaleLinear().domain([0, 1400000000]).range([7, 55]); // circle will be between 7 and 55 px wide\n        // create a tooltip\n\n        var Tooltip = d3.select(\"#CB\").append(\"div\").style(\"opacity\", 0).attr(\"class\", \"tooltip\").style(\"background-color\", \"white\").style(\"border\", \"solid\").style(\"border-width\", \"2px\").style(\"border-radius\", \"5px\").style(\"padding\", \"5px\"); // Three function that change the tooltip when user hover / move / leave a cell\n\n        var mouseover = function mouseover(d) {\n          Tooltip.style(\"opacity\", 1);\n        };\n\n        var mousemove = function mousemove(d) {\n          Tooltip.html('<u>' + d.key + '</u>' + \"<br>\" + d.value + \" inhabitants\").style(\"left\", d3.mouse(this)[0] + 20 + \"px\").style(\"top\", d3.mouse(this)[1] + \"px\");\n        };\n\n        var mouseleave = function mouseleave(d) {\n          Tooltip.style(\"opacity\", 0);\n        }; // Initialize the circle: all located at the center of the svg area\n\n\n        var node = svg.append(\"g\").selectAll(\"circle\").data(data).enter().append(\"circle\").attr(\"class\", \"node\").attr(\"r\", function (d) {\n          return size(d.value);\n        }).attr(\"cx\", width / 2).attr(\"cy\", height / 2).style(\"fill\", function (d) {\n          return color(d.region);\n        }).style(\"fill-opacity\", 0.8).attr(\"stroke\", \"black\").style(\"stroke-width\", 1).on(\"mouseover\", mouseover) // What to do when hovered\n        .on(\"mousemove\", mousemove).on(\"mouseleave\", mouseleave).call(d3.drag() // call specific function when circle is dragged\n        .on(\"start\", dragstarted).on(\"drag\", dragged).on(\"end\", dragended)); // Features of the forces applied to the nodes:\n\n        var simulation = d3.forceSimulation().force(\"center\", d3.forceCenter().x(width / 2).y(height / 2)) // Attraction to the center of the svg area\n        .force(\"charge\", d3.forceManyBody().strength(.1)) // Nodes are attracted one each other of value is > 0\n        .force(\"collide\", d3.forceCollide().strength(.2).radius(function (d) {\n          return size(d.value) + 3;\n        }).iterations(1)); // Force that avoids circle overlapping\n        // Apply these forces to the nodes and update their positions.\n        // Once the force algorithm is happy with positions ('alpha' value is low enough), simulations will stop.\n\n        simulation.nodes(data).on(\"tick\", function (d) {\n          node.attr(\"cx\", function (d) {\n            return d.x;\n          }).attr(\"cy\", function (d) {\n            return d.y;\n          });\n        }); // What happens when a circle is dragged?\n\n        function dragstarted(d) {\n          if (!d3.event.active) simulation.alphaTarget(.03).restart();\n          d.fx = d.x;\n          d.fy = d.y;\n        }\n\n        function dragged(d) {\n          d.fx = d3.event.x;\n          d.fy = d3.event.y;\n        }\n\n        function dragended(d) {\n          if (!d3.event.active) simulation.alphaTarget(.03);\n          d.fx = null;\n          d.fy = null;\n        }\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.CB();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        id: \"CB\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return About;\n}(React.Component);\n\nexport default About;","map":{"version":3,"sources":["/Users/brianford/Desktop/MakeOrMiss/client/src/pages/About.js"],"names":["React","d3","Clutch","About","width","height","svg","select","append","attr","csv","then","data","filter","d","value","color","scaleOrdinal","domain","range","schemeSet1","size","scaleLinear","Tooltip","style","mouseover","mousemove","html","key","mouse","mouseleave","node","selectAll","enter","region","on","call","drag","dragstarted","dragged","dragended","simulation","forceSimulation","force","forceCenter","x","y","forceManyBody","strength","forceCollide","radius","iterations","nodes","event","active","alphaTarget","restart","fx","fy","CB","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport * as d3 from 'd3';\nimport Clutch from '../assets/Clutch.csv'\n\nclass About extends React.Component {\n\n    CB(){\n      // set the dimensions and margins of the graph\n    var width = 460\n    var height = 460\n    \n    // append the svg object to the body of the page\n    var svg = d3.select(\"#CB\")\n      .append(\"svg\")\n        .attr(\"width\", width)\n        .attr(\"height\", height)\n    \n    // Read data\n    d3.csv(\"../assets/Clutch.csv\").then (function(data) {\n    \n      // Filter a bit the data -> more than 1 million inhabitants\n     var data = data.filter(function(d){ return d.value>10000000 })\n    \n      // Color palette for continents?\n      var color = d3.scaleOrdinal()\n        .domain([\"Asia\", \"Europe\", \"Africa\", \"Oceania\", \"Americas\"])\n        .range(d3.schemeSet1);\n    \n      // Size scale for countries\n      var size = d3.scaleLinear()\n        .domain([0, 1400000000])\n        .range([7,55])  // circle will be between 7 and 55 px wide\n    \n      // create a tooltip\n      var Tooltip = d3.select(\"#CB\")\n        .append(\"div\")\n        .style(\"opacity\", 0)\n        .attr(\"class\", \"tooltip\")\n        .style(\"background-color\", \"white\")\n        .style(\"border\", \"solid\")\n        .style(\"border-width\", \"2px\")\n        .style(\"border-radius\", \"5px\")\n        .style(\"padding\", \"5px\")\n    \n      // Three function that change the tooltip when user hover / move / leave a cell\n      var mouseover = function(d) {\n        Tooltip\n          .style(\"opacity\", 1)\n      }\n      var mousemove = function(d) {\n        Tooltip\n          .html('<u>' + d.key + '</u>' + \"<br>\" + d.value + \" inhabitants\")\n          .style(\"left\", (d3.mouse(this)[0]+20) + \"px\")\n          .style(\"top\", (d3.mouse(this)[1]) + \"px\")\n      }\n      var mouseleave = function(d) {\n        Tooltip\n          .style(\"opacity\", 0)\n      }\n    \n      // Initialize the circle: all located at the center of the svg area\n      var node = svg.append(\"g\")\n        .selectAll(\"circle\")\n        .data(data)\n        .enter()\n        .append(\"circle\")\n          .attr(\"class\", \"node\")\n          .attr(\"r\", function(d){ return size(d.value)})\n          .attr(\"cx\", width / 2)\n          .attr(\"cy\", height / 2)\n          .style(\"fill\", function(d){ return color(d.region)})\n          .style(\"fill-opacity\", 0.8)\n          .attr(\"stroke\", \"black\")\n          .style(\"stroke-width\", 1)\n          .on(\"mouseover\", mouseover) // What to do when hovered\n          .on(\"mousemove\", mousemove)\n          .on(\"mouseleave\", mouseleave)\n          .call(d3.drag() // call specific function when circle is dragged\n               .on(\"start\", dragstarted)\n               .on(\"drag\", dragged)\n               .on(\"end\", dragended));\n    \n      // Features of the forces applied to the nodes:\n      var simulation = d3.forceSimulation()\n          .force(\"center\", d3.forceCenter().x(width / 2).y(height / 2)) // Attraction to the center of the svg area\n          .force(\"charge\", d3.forceManyBody().strength(.1)) // Nodes are attracted one each other of value is > 0\n          .force(\"collide\", d3.forceCollide().strength(.2).radius(function(d){ return (size(d.value)+3) }).iterations(1)) // Force that avoids circle overlapping\n    \n      // Apply these forces to the nodes and update their positions.\n      // Once the force algorithm is happy with positions ('alpha' value is low enough), simulations will stop.\n      simulation\n          .nodes(data)\n          .on(\"tick\", function(d){\n            node\n                .attr(\"cx\", function(d){ return d.x; })\n                .attr(\"cy\", function(d){ return d.y; })\n          });\n    \n      // What happens when a circle is dragged?\n      function dragstarted(d) {\n        if (!d3.event.active) simulation.alphaTarget(.03).restart();\n        d.fx = d.x;\n        d.fy = d.y;\n      }\n      function dragged(d) {\n        d.fx = d3.event.x;\n        d.fy = d3.event.y;\n      }\n      function dragended(d) {\n        if (!d3.event.active) simulation.alphaTarget(.03);\n        d.fx = null;\n        d.fy = null;\n      }\n    \n    })\n  }\n      componentDidMount () {\n        this.CB()\n      }\n\n    render (){\n    return (\n      <div id=\"CB\"></div>\n    )\n    }\n    \n}\n\nexport default About;\n"]},"metadata":{},"sourceType":"module"}